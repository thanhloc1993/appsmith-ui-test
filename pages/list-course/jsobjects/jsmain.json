{
  "unpublishedCollection": {
    "name": "jsmain",
    "pageId": "list-course",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tmyVar1: [],\n\tmyVar2: {},\n\tinitUnleash: async () => {\n\t\tconst mappingEnv = {\n\t\t\t\"staging\": \"stag\",\n\t\t\t\"uat\": \"uat\",\n\t\t\t\"master\": \"prod\"\n\t\t}\n\t\tlet checkEnvAndOrg = function(env, orgID, strategies) {\n\t\t\t\tlet found = false;\n\t\t\t\tfor (let i = 0; i < strategies.length; i++) {\n\t\t\t\t\t\tif (strategies[i].name == 'strategy_environment') {\n\t\t\t\t\t\t\tconst environments = strategies[i].parameters.environments.split(\",\");\n\t\t\t\t\t\t\t\tfor (let e = 0; e < environments.length; e++) {\n\t\t\t\t\t\t\t\t\tif (environments[e] == env) {\n\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (strategies[i].name == 'strategy_organization' && orgID != undefined && found) {\n\t\t\t\t\t\t\tfound = false;\n\t\t\t\t\t\t\tconst organizations = strategies[i].parameters.organizations.split(\",\");\n\t\t\t\t\t\t\t\tfor (let o = 0; o < organizations.length; o++) {\n\t\t\t\t\t\t\t\t\tif (organizations[o] == orgID) {\n\t\t\t\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t};\n\t\tconst env = mappingEnv[appsmith.URL.queryParams[\"branch\"]] ? mappingEnv[appsmith.URL.queryParams[\"branch\"]] : \"stag\";\n\t\tconst orgID = appsmith.URL.queryParams[\"organization\"]\n\t\tconsole.log(orgID);\n\t\tconst results = await Unleash_Features.run();\n\t\tconst features = results.features.filter((feature) => {\n\t\t\treturn feature.enabled && checkEnvAndOrg(env, orgID, feature.strategies);\n\t\t})\n\t\tfor (let i = 0; i < features.length; i++) {\n\t\t\tstoreValue(features.name, true);\n\t\t}\n\t\treturn features.length\n\t}\n}",
    "variables": [
      {
        "name": "myVar1",
        "value": "[]"
      },
      {
        "name": "myVar2",
        "value": "{}"
      }
    ],
    "userPermissions": []
  },
  "id": "list-course_jsmain",
  "deleted": false,
  "gitSyncId": "633e5568cbe08b4e8c85c3d3_633e5701d8f7c225a30ed834"
}